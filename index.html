<!DOCTYPE html>
<html lang="en" x-data="app()" :dir="rtl ? 'rtl' : 'ltr'" :class="{ dark: theme === 'dark' }" class="h-full">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Staging — Empty State</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    keyframes: {
                        floaty: {
                            '0%, 100%': { transform: 'translateY(0px) scale(1)' },
                            '50%': { transform: 'translateY(-12px) scale(1.02)' },
                        },
                        twinkle: {
                            '0%, 100%': { opacity: 0.4, transform: 'scale(1)' },
                            '50%': { opacity: 1, transform: 'scale(1.15)' },
                        }
                    },
                    animation: {
                        floaty: 'floaty 6s ease-in-out infinite',
                        twinkle: 'twinkle 3.5s ease-in-out infinite'
                    },
                },
            },
        }
    </script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" wire:navigate href="https://fonts.gstatic.com" crossorigin>
    <link wire:navigate href="https://fonts.googleapis.com/css2?family=Zain:wght@200;300;400;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: "Zain", sans-serif;
        }
        .bg-grid {
            background-image: linear-gradient(to right, rgba(120,120,120,.08) 1px, transparent 1px),
            linear-gradient(to bottom, rgba(120,120,120,.08) 1px, transparent 1px);
            background-size: 28px 28px;
        }
    </style>
</head>
<body class="h-full antialiased bg-white text-slate-800 dark:bg-slate-950 dark:text-slate-100 font-display" x-init="init()">
<div aria-hidden="true" class="fixed inset-0 -z-10 overflow-hidden">
    <div class="absolute -top-28 -left-24 h-72 w-72 rounded-full blur-3xl opacity-30 dark:opacity-40 bg-gradient-to-tr from-indigo-400 via-fuchsia-400 to-rose-400 animate-floaty"></div>
    <div class="absolute -bottom-28 -right-24 h-72 w-72 rounded-full blur-3xl opacity-30 dark:opacity-40 bg-gradient-to-tr from-emerald-400 via-cyan-400 to-indigo-400 animate-floaty" style="animation-delay:1.3s"></div>
    <div class="absolute inset-0 bg-grid [mask-image:radial-gradient(ellipse_at_center,black,transparent_70%)]"></div>
</div>

<main class="min-h-screen flex items-center justify-center p-6">
    <section class="w-full max-w-3xl">
        <div class="flex items-center justify-between gap-4 mb-6">
        <span class="inline-flex items-center gap-2 rounded-full border border-slate-200 dark:border-slate-800 px-3 py-1 text-xs font-medium uppercase tracking-wide">
          <span class="relative inline-flex h-2.5 w-2.5">
            <span class="absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75 animate-ping"></span>
            <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-amber-500"></span>
          </span>
          <span x-text="t('badge')"></span>
        </span>
            <div class="flex items-center gap-2">
                <button @click="toggleTheme()" class="rounded-xl border border-slate-200 dark:border-slate-800 px-3 py-1.5 text-sm hover:bg-slate-50 dark:hover:bg-slate-900 transition">
                    <span x-show="theme==='light'">🌙</span>
                    <span x-show="theme==='dark'">☀️</span>
                </button>
                <div class="relative">
                    <button @click="langMenu = !langMenu" class="rounded-xl border border-slate-200 dark:border-slate-800 px-3 py-1.5 text-sm hover:bg-slate-50 dark:hover:bg-slate-900 transition min-w-[5.5rem] text-left">
                        <span x-text="lang.toUpperCase()"></span>
                    </button>
                    <div x-cloak x-show="langMenu" @click.outside="langMenu=false" class="z-10 absolute end-0 mt-2 w-40 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-lg p-1">
                        <button @click="setLang('en')" class="w-full text-left rounded-lg px-3 py-2 text-sm hover:bg-slate-50 dark:hover:bg-slate-800">English</button>
                        <button @click="setLang('ar')" class="w-full text-left rounded-lg px-3 py-2 text-sm hover:bg-slate-50 dark:hover:bg-slate-800">العربية</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="relative overflow-hidden rounded-3xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60 backdrop-blur p-8 shadow-xl">
            <div aria-hidden="true" class="pointer-events-none absolute inset-0">
                <div class="absolute top-6 end-6 h-10 w-10 rounded-full bg-gradient-to-tr from-indigo-400/40 to-fuchsia-400/40 blur-xl animate-twinkle"></div>
                <div class="absolute bottom-8 start-10 h-8 w-8 rounded-full bg-gradient-to-tr from-emerald-400/40 to-cyan-400/40 blur-lg animate-twinkle" style="animation-delay:1.2s"></div>
            </div>

            <div class="flex flex-col items-center text-center gap-6">
                <div class="relative">
                    <svg width="140" height="140" viewBox="0 0 140 140" fill="none" xmlns="http://www.w3.org/2000/svg" class="drop-shadow-sm">
                        <defs>
                            <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                                <stop offset="0%" stop-color="#60a5fa"/>
                                <stop offset="100%" stop-color="#f472b6"/>
                            </linearGradient>
                        </defs>
                        <circle cx="70" cy="70" r="60" fill="url(#g1)" opacity="0.12"/>
                        <rect x="35" y="40" width="70" height="60" rx="12" class="stroke-slate-400 dark:stroke-slate-500" stroke-width="2" fill="none"/>
                        <rect x="45" y="50" width="50" height="10" rx="5" class="fill-slate-300 dark:fill-slate-600"></rect>
                        <rect x="45" y="66" width="50" height="8" rx="4" class="fill-slate-200 dark:fill-slate-700"></rect>
                        <rect x="45" y="80" width="32" height="8" rx="4" class="fill-slate-200 dark:fill-slate-700"></rect>
                    </svg>
                    <span class="absolute -right-2 -top-2 text-2xl select-none animate-bounce" aria-hidden="true">✨</span>
                </div>

                <div class="space-y-2 max-w-xl">
                    <h1 class="text-2xl sm:text-3xl font-extrabold tracking-tight" x-text="t('title')"></h1>
                    <p class="text-sm sm:text-base text-slate-600 dark:text-slate-300" x-text="t('subtitle')"></p>
                </div>

                <div class="flex flex-wrap items-center justify-center gap-3">
                    <button @click="confetti()" class="group inline-flex items-center gap-2 rounded-2xl px-4 py-2.5 text-sm font-semibold bg-gradient-to-r from-indigo-500 to-fuchsia-500 text-white shadow hover:opacity-95 active:scale-[.98] transition">
                        <span>🚀</span>
                        <span x-text="t('primary')"></span>
                    </button>
                    <button @click="copyUrl()" class="inline-flex items-center gap-2 rounded-2xl border border-slate-200 dark:border-slate-800 px-4 py-2.5 text-sm hover:bg-slate-50 dark:hover:bg-slate-800 transition">
                        <span>🔗</span>
                        <span x-text="t('copy')"></span>
                    </button>
                    <a :href="waUrl()" target="_blank" class="inline-flex items-center gap-2 rounded-2xl border border-emerald-300/40 dark:border-emerald-700/40 px-4 py-2.5 text-sm bg-emerald-500/10 dark:bg-emerald-400/10 hover:bg-emerald-500/20 dark:hover:bg-emerald-400/20 transition">
                        <span>🟢</span>
                        <span x-text="t('whatsapp')"></span>
                    </a>
                </div>

                <p class="text-xs text-slate-500 dark:text-slate-400 mt-4" x-text="t('footnote')"></p>
            </div>
        </div>
    </section>

    <a :href="waUrl()" target="_blank" class="fixed bottom-6 end-6 z-50 inline-flex items-center gap-2 rounded-full px-4 py-3 shadow-lg border border-emerald-300/40 dark:border-emerald-700/40 bg-emerald-500 text-white hover:scale-[1.03] active:scale-[.98] transition">
        <span>🟢</span>
        <span class="text-sm font-semibold" x-text="t('whatsapp')"></span>
    </a>
</main>

<script>
    function app() {
        const EN = {
            badge: 'Staging Environment',
            title: 'Nothing to show—yet.',
            subtitle: "You’re viewing our testing domain. We’re preparing your workspace and content will appear here once we go live.",
            primary: 'Trigger Demo Action',
            copy: 'Copy staging URL',
            footnote: 'Looking for production? Swap to your live domain once available.',
            whatsapp: 'WhatsApp us'
        }
        const AR = {
            badge: 'بيئة تجريبية',
            title: 'لا يوجد محتوى الآن.',
            subtitle: 'أنت تشاهد النطاق التجريبي. نجهّز مساحتك حالياً وسيظهر المحتوى عند الإطلاق.',
            primary: 'تشغيل الإجراء التجريبي',
            copy: 'نسخ رابط النطاق التجريبي',
            footnote: 'تبحث عن النسخة الحية؟ انتقل إلى النطاق الفعّال عند توفره.',
            whatsapp: 'تواصل عبر واتساب'
        }
        return {
            lang: 'en',
            rtl: false,
            theme: window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light',
            langMenu: false,
            whatsappNumber: '966555644047',
            waUrl() {
                const base = 'https://wa.me/' + this.whatsappNumber
                const text = this.lang === 'ar' ? 'مرحباً! أختبر النطاق التجريبي وأحب مشاركة ملاحظة.' : 'Hello! Testing the staging domain and wanted to share a note.'
                return base + '?text=' + encodeURIComponent(text)
            },
            t(key) { return (this.lang === 'ar' ? AR : EN)[key] },
            setLang(l) { this.lang = l; this.langMenu = false; this.rtl = l === 'ar' },
            toggleTheme() { this.theme = this.theme === 'dark' ? 'light' : 'dark' },
            init() {
                const saved = JSON.parse(localStorage.getItem('emptyStatePrefs') || '{}')
                if (saved.lang) this.lang = saved.lang
                if (typeof saved.rtl === 'boolean') this.rtl = saved.rtl
                if (saved.theme) this.theme = saved.theme
                if (this.lang === 'ar') this.rtl = true
                this.$watch('lang', () => this.persist())
                this.$watch('rtl', () => this.persist())
                this.$watch('theme', () => this.persist())
            },
            persist() { localStorage.setItem('emptyStatePrefs', JSON.stringify({ lang: this.lang, rtl: this.rtl, theme: this.theme })) },
            copyUrl() {
                navigator.clipboard?.writeText(window.location.href)
                    .then(() => { this.toast(this.t('copy')); })
                    .catch(() => this.toast('Copied'))
            },
            confetti() {
                const emojis = ['✨','🎉','💫','🌟','🎈']
                for (let i=0; i<18; i++) {
                    const span = document.createElement('span')
                    span.textContent = emojis[Math.floor(Math.random()*emojis.length)]
                    span.style.position = 'fixed'
                    span.style.left = (Math.random()*100)+'%'
                    span.style.top = '-10px'
                    span.style.fontSize = (16 + Math.random()*18)+'px'
                    span.style.transition = 'transform 1.2s ease, opacity 1.2s ease'
                    span.style.zIndex = 50
                    document.body.appendChild(span)
                    requestAnimationFrame(() => {
                        span.style.transform = `translateY(${80 + Math.random()*120}vh) rotate(${(Math.random()*180)-90}deg)`
                        span.style.opacity = 0
                    })
                    setTimeout(() => span.remove(), 1400)
                }
            },
            toast(msg) {
                const el = document.createElement('div')
                el.className = 'fixed bottom-6 inset-x-0 mx-auto w-fit rounded-xl bg-slate-900 text-white/90 dark:bg-white dark:text-slate-900 px-4 py-2 text-sm shadow-xl'
                el.textContent = msg
                document.body.appendChild(el)
                setTimeout(() => el.remove(), 1600)
            },
        }
    }
</script>
</body>
</html>
